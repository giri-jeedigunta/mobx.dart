---
name: Dice
menu: Examples
route: /examples/dice
---

import { PubBadge } from '../../components/PubBadge';

# Dice
In this example, we will build a fun dice app. You can make the dice roll at the tap of a button and random count is generated with every roll of dice.

> See the complete code [here](https://github.com/giri-jeedigunta/dice-with-flutter-mobx).

import diceJpg from './dice.jpg';

<img src={diceJpg} />

## Store setup
`DiceCounter` store is simple, it keeps a track of dice values and the total count. Below is how it looks:

- Generate dice_counter.g.dart file using `build_runner` and this must be imported into the store. Read more about build_runner in [MobX Code Generation library](https://github.com/mobxjs/mobx.dart/tree/master/mobx_codegen).

```dart
import 'dart:math';
import 'package:mobx/mobx.dart';

part 'dice_counter.g.dart';

class DiceCounter = _DiceCounter with _$DiceCounter;

abstract class _DiceCounter with Store {
  @observable
  int left = Random().nextInt(6) + 1;

  @observable
  int right = Random().nextInt(6) + 1;

  @computed
  int get total => left + right;

  @action
  void roll() {
    left = Random().nextInt(6) + 1;
    right = Random().nextInt(6) + 1;
  }
}

```

- In the above store `left` and `right` are the dice countes defined as observable values with `@observable` annotation and are initialised with a random number ranging from 1 - 6. 
- The action-method roll() is used to update the dice counts defined with `@action` annotation.
- `total` is a computed observable annotated with `@computed` this is my favourite feature in Mobx. Computed observables are in-sync everytime left or right count is updated. It is incredibly useful as I can access this value right away as part of the initial state when the instance of the store is created.

## Adding the Store

Now that the `DiceCounter` store is ready, It's time to add it to the `Widget` see the magic happen. Let's create an instance of our store:

```dart
import 'package:flutter/material.dart';
import 'package:flutter_mobx/flutter_mobx.dart';

import 'dice_counter.dart';

final diceCounter = DiceCounter();

```
## Using the store

The observables and actions from the store can be accessed via newly created instace `diceCounter` along with the `Observer` widget.

```dart
class DiceView extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: <Widget>[
          Row(
            children: <Widget>[
              Expanded(
                child: FlatButton(
                  child: Observer(
                    builder: (_) =>
                        Image.asset('images/dice${diceCounter.left}.png'),
                  ),
                  onPressed: diceCounter.roll,
                ),
              ),
              Expanded(
                child: FlatButton(
                  child: Observer(
                    builder: (_) =>
                        Image.asset('images/dice${diceCounter.right}.png'),
                  ),
                  onPressed: diceCounter.roll,
                ),
              ),
            ],
          ),
          Padding(
            padding: const EdgeInsets.all(16.0),
            child: Observer(
              builder: (_) => Text(
                'Total ${diceCounter.total}',
                style: TextStyle(
                    fontWeight: FontWeight.bold,
                    color: Colors.black87,
                    fontSize: 16.0,
                    fontFamily: 'Verdana'),
              ),
            ),
          ),
        ],
      ),
    );
  }
}

```